<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>onyx.test-helper documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Onyx 0.8.10 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>onyx</span></div></div></li><li class="depth-2 branch"><a href="onyx.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>compression</span></div></div></li><li class="depth-3"><a href="onyx.compression.nippy.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>nippy</span></div></a></li><li class="depth-2 branch"><a href="onyx.extensions.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>extensions</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>flow-conditions</span></div></div></li><li class="depth-3 branch"><a href="onyx.flow-conditions.fc-compile.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fc-compile</span></div></a></li><li class="depth-3"><a href="onyx.flow-conditions.fc-routing.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fc-routing</span></div></a></li><li class="depth-2 branch"><a href="onyx.information-model.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>information-model</span></div></a></li><li class="depth-2 branch"><a href="onyx.interop.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interop</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>log</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>commands</span></div></div></li><li class="depth-4 branch"><a href="onyx.log.commands.abort-join-cluster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>abort-join-cluster</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.accept-join-cluster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>accept-join-cluster</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.assign-bookkeeper-log-id.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>assign-bookkeeper-log-id</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.backpressure-off.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>backpressure-off</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.backpressure-on.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>backpressure-on</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.compact-bookkeeper-log-ids.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>compact-bookkeeper-log-ids</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.deleted-bookkeeper-log-ids.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>deleted-bookkeeper-log-ids</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.exhaust-input.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>exhaust-input</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.gc.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>gc</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.kill-job.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>kill-job</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.leave-cluster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>leave-cluster</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.notify-join-cluster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>notify-join-cluster</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.peer-replica-view.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>peer-replica-view</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.prepare-join-cluster.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>prepare-join-cluster</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.seal-output.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>seal-output</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.set-replica.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>set-replica</span></div></a></li><li class="depth-4 branch"><a href="onyx.log.commands.signal-ready.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>signal-ready</span></div></a></li><li class="depth-4"><a href="onyx.log.commands.submit-job.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>submit-job</span></div></a></li><li class="depth-3 branch"><a href="onyx.log.curator.html"><div class="inner"><span class="tree" style="top: -610px;"><span class="top" style="height: 619px;"></span><span class="bottom"></span></span><span>curator</span></div></a></li><li class="depth-3 branch"><a href="onyx.log.entry.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>entry</span></div></a></li><li class="depth-3 branch"><a href="onyx.log.failure-detector.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>failure-detector</span></div></a></li><li class="depth-3 branch"><a href="onyx.log.replica.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>replica</span></div></a></li><li class="depth-3 branch"><a href="onyx.log.replica-invariants.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>replica-invariants</span></div></a></li><li class="depth-3"><a href="onyx.log.zookeeper.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>zookeeper</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -827px;"><span class="top" style="height: 836px;"></span><span class="bottom"></span></span><span>messaging</span></div></div></li><li class="depth-3"><a href="onyx.messaging.aeron-media-driver.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>aeron-media-driver</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>monitoring</span></div></div></li><li class="depth-3 branch"><a href="onyx.monitoring.custom-monitoring.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>custom-monitoring</span></div></a></li><li class="depth-3 branch"><a href="onyx.monitoring.measurements.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>measurements</span></div></a></li><li class="depth-3"><a href="onyx.monitoring.no-op-monitoring.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>no-op-monitoring</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>peer</span></div></div></li><li class="depth-3 branch"><a href="onyx.peer.grouping.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>grouping</span></div></a></li><li class="depth-3 branch"><a href="onyx.peer.operation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>operation</span></div></a></li><li class="depth-3"><a href="onyx.peer.pipeline-extensions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pipeline-extensions</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>plugin</span></div></div></li><li class="depth-3"><a href="onyx.plugin.core-async.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core-async</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>scheduling</span></div></div></li><li class="depth-3 branch"><a href="onyx.scheduling.acker-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>acker-scheduler</span></div></a></li><li class="depth-3 branch"><a href="onyx.scheduling.balanced-job-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>balanced-job-scheduler</span></div></a></li><li class="depth-3 branch"><a href="onyx.scheduling.balanced-task-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>balanced-task-scheduler</span></div></a></li><li class="depth-3 branch"><a href="onyx.scheduling.colocated-task-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>colocated-task-scheduler</span></div></a></li><li class="depth-3 branch"><a href="onyx.scheduling.common-job-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common-job-scheduler</span></div></a></li><li class="depth-3 branch"><a href="onyx.scheduling.common-task-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common-task-scheduler</span></div></a></li><li class="depth-3 branch"><a href="onyx.scheduling.greedy-job-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>greedy-job-scheduler</span></div></a></li><li class="depth-3 branch"><a href="onyx.scheduling.percentage-job-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>percentage-job-scheduler</span></div></a></li><li class="depth-3"><a href="onyx.scheduling.percentage-task-scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>percentage-task-scheduler</span></div></a></li><li class="depth-2 branch"><a href="onyx.schema.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>schema</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>state</span></div></div></li><li class="depth-3 branch"><a href="onyx.state.bookkeeper.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bookkeeper</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>filter</span></div></div></li><li class="depth-4 branch"><a href="onyx.state.filter.rocksdb.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rocksdb</span></div></a></li><li class="depth-4"><a href="onyx.state.filter.set.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>set</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>log</span></div></div></li><li class="depth-4"><a href="onyx.state.log.none.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>none</span></div></a></li><li class="depth-3 branch"><a href="onyx.state.rocksdb.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>rocksdb</span></div></a></li><li class="depth-3"><a href="onyx.state.state-extensions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>state-extensions</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -269px;"><span class="top" style="height: 278px;"></span><span class="bottom"></span></span><span>static</span></div></div></li><li class="depth-3 branch"><a href="onyx.static.default-vals.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>default-vals</span></div></a></li><li class="depth-3 branch"><a href="onyx.static.planning.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>planning</span></div></a></li><li class="depth-3 branch"><a href="onyx.static.rotating-seq.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rotating-seq</span></div></a></li><li class="depth-3 branch"><a href="onyx.static.uuid.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>uuid</span></div></a></li><li class="depth-3"><a href="onyx.static.validation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>validation</span></div></a></li><li class="depth-2 branch"><a href="onyx.system.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>system</span></div></a></li><li class="depth-2 branch current"><a href="onyx.test-helper.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>test-helper</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>triggers</span></div></div></li><li class="depth-3 branch"><a href="onyx.triggers.percentile-watermark.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>percentile-watermark</span></div></a></li><li class="depth-3 branch"><a href="onyx.triggers.punctuation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>punctuation</span></div></a></li><li class="depth-3 branch"><a href="onyx.triggers.segment.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>segment</span></div></a></li><li class="depth-3 branch"><a href="onyx.triggers.timer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>timer</span></div></a></li><li class="depth-3 branch"><a href="onyx.triggers.triggers-api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>triggers-api</span></div></a></li><li class="depth-3"><a href="onyx.triggers.watermark.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>watermark</span></div></a></li><li class="depth-2 branch"><a href="onyx.types.html"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>types</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>windowing</span></div></div></li><li class="depth-3 branch"><a href="onyx.windowing.aggregation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>aggregation</span></div></a></li><li class="depth-3 branch"><a href="onyx.windowing.units.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>units</span></div></a></li><li class="depth-3 branch"><a href="onyx.windowing.window-extensions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>window-extensions</span></div></a></li><li class="depth-3"><a href="onyx.windowing.window-id.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>window-id</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="onyx.test-helper.html#var--.3EDummyInput"><div class="inner"><span>-&gt;DummyInput</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var--.3EDummyOutput"><div class="inner"><span>-&gt;DummyOutput</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var--.3EOnyxTestEnv"><div class="inner"><span>-&gt;OnyxTestEnv</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-add-test-env-peers.21"><div class="inner"><span>add-test-env-peers!</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-dummy-input"><div class="inner"><span>dummy-input</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-dummy-output"><div class="inner"><span>dummy-output</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-feedback-exception.21"><div class="inner"><span>feedback-exception!</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-find-task"><div class="inner"><span>find-task</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-get-counts"><div class="inner"><span>get-counts</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-job-allocation-counts"><div class="inner"><span>job-allocation-counts</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-load-config"><div class="inner"><span>load-config</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-map-.3EDummyInput"><div class="inner"><span>map-&gt;DummyInput</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-map-.3EDummyOutput"><div class="inner"><span>map-&gt;DummyOutput</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-map-.3EOnyxTestEnv"><div class="inner"><span>map-&gt;OnyxTestEnv</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-n-peers"><div class="inner"><span>n-peers</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-playback-log"><div class="inner"><span>playback-log</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-try-start-env"><div class="inner"><span>try-start-env</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-try-start-group"><div class="inner"><span>try-start-group</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-try-start-peers"><div class="inner"><span>try-start-peers</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-validate-enough-peers.21"><div class="inner"><span>validate-enough-peers!</span></div></a></li><li class="depth-1"><a href="onyx.test-helper.html#var-with-test-env"><div class="inner"><span>with-test-env</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">onyx.test-helper</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var--.3EDummyInput"><h3>-&gt;DummyInput</h3><div class="usage"><code>(-&gt;DummyInput)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class onyx.test_helper.DummyInput.
</pre></div></div><div class="public anchor" id="var--.3EDummyOutput"><h3>-&gt;DummyOutput</h3><div class="usage"><code>(-&gt;DummyOutput)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class onyx.test_helper.DummyOutput.
</pre></div></div><div class="public anchor" id="var--.3EOnyxTestEnv"><h3>-&gt;OnyxTestEnv</h3><div class="usage"><code>(-&gt;OnyxTestEnv env-config peer-config monitoring-config n-peers)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class onyx.test_helper.OnyxTestEnv.
</pre></div></div><div class="public anchor" id="var-add-test-env-peers.21"><h3>add-test-env-peers!</h3><div class="usage"><code>(add-test-env-peers! {:keys [peer-group peers monitoring-config], :as component} n-peers)</code></div><div class="doc"><pre class="plaintext">Add peers to an OnyxTestEnv component
</pre></div></div><div class="public anchor" id="var-dummy-input"><h3>dummy-input</h3><div class="usage"><code>(dummy-input pipeline-data)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-dummy-output"><h3>dummy-output</h3><div class="usage"><code>(dummy-output pipeline-data)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-feedback-exception.21"><h3>feedback-exception!</h3><div class="usage"><code>(feedback-exception! peer-config job-id)</code><code>(feedback-exception! peer-config job-id log)</code></div><div class="doc"><pre class="plaintext">Feeds an exception that killed a job back to a client. 
Blocks until the job is complete.</pre></div></div><div class="public anchor" id="var-find-task"><h3>find-task</h3><div class="usage"><code>(find-task catalog task-name)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-get-counts"><h3>get-counts</h3><div class="usage"><code>(get-counts replica job-infos)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-job-allocation-counts"><h3>job-allocation-counts</h3><div class="usage"><code>(job-allocation-counts replica job-info)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-load-config"><h3>load-config</h3><div class="usage"><code>(load-config)</code><code>(load-config filename)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-map-.3EDummyInput"><h3>map-&gt;DummyInput</h3><div class="usage"><code>(map-&gt;DummyInput m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class onyx.test_helper.DummyInput, taking a map of keywords to field values.
</pre></div></div><div class="public anchor" id="var-map-.3EDummyOutput"><h3>map-&gt;DummyOutput</h3><div class="usage"><code>(map-&gt;DummyOutput m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class onyx.test_helper.DummyOutput, taking a map of keywords to field values.
</pre></div></div><div class="public anchor" id="var-map-.3EOnyxTestEnv"><h3>map-&gt;OnyxTestEnv</h3><div class="usage"><code>(map-&gt;OnyxTestEnv m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class onyx.test_helper.OnyxTestEnv, taking a map of keywords to field values.
</pre></div></div><div class="public anchor" id="var-n-peers"><h3>n-peers</h3><div class="usage"><code>(n-peers {:keys [catalog workflow], :as job})</code></div><div class="doc"><pre class="plaintext">Takes a workflow and catalog, returns the minimum number of peers
needed to execute this job.</pre></div></div><div class="public anchor" id="var-playback-log"><h3>playback-log</h3><div class="usage"><code>(playback-log log replica ch timeout-ms)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-try-start-env"><h3>try-start-env</h3><div class="usage"><code>(try-start-env env-config)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-try-start-group"><h3>try-start-group</h3><div class="usage"><code>(try-start-group peer-config)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-try-start-peers"><h3>try-start-peers</h3><div class="usage"><code>(try-start-peers n-peers peer-group monitoring-config)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-validate-enough-peers.21"><h3>validate-enough-peers!</h3><div class="usage"><code>(validate-enough-peers! test-env job)</code></div><div class="doc"><pre class="plaintext">Checks that the test environment will start enough peers to start the job.  Do
not use this validation function in production as it does not check for the
number of peers running over a cluster, and the number of peers that has joined
is subject to change as nodes come online and go offline.</pre></div></div><div class="public anchor" id="var-with-test-env"><h3>with-test-env</h3><h4 class="type">macro</h4><div class="usage"><code>(with-test-env [symbol-name [n-peers env-config peer-config monitoring-config]] &amp; body)</code></div><div class="doc"><pre class="plaintext">Start a test env in a way that shuts down after body is completed. 
Useful for running tests that can be killed, and re-run without bouncing the repl.</pre></div></div></div></body></html>